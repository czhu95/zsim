// As simple as it gets: 1-core system with 2 short processes

sys = {
    lineSize = 64;
    frequency = 2400;

    cores = {
        oooCore = {
            type = "OOO";
            dcache = "l1d";
            icache = "l1i";
        };
    };

    caches = {
        l1d = {
            size = 32768;
            array = {
                type = "SetAssoc";
                ways = 8;
            };
            latency = 3;
        };
        l1i = {
            size = 32768;
            array = {
                type = "SetAssoc";
                ways = 8;
            };
            latency = 3;
        };
        l2 = {
            caches = 1;
            size = 262144;
            array = {
                type = "SetAssoc";
                ways = 8;
            };
            latency = 8;
            children = "l1i|l1d";  // interleave
        };
        l3 = {
            caches = 1;
            banks = 6;
            size = 15728640;
            array = {
                type = "SetAssoc";
                ways = 20;
            };
            latency = 16;
            children = "l2";
        };
    };

    mem = {
        type = "DDR";
        controllers = 6;
        tech = "DDR3-1600-CL11";
    };
};

sim = {
    phaseLength = 10000;
    attachDebugger = True;
    schedQuantum = 50;  // switch threads frequently
    // procStatsFilter = "l1.*|l2.*";
};

process0 = {
    command = "$CMD";
};
